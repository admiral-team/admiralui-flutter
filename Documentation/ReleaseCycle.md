# Релизный цикл.

### Отрезание RC и BUMP

    #### RC
        * В среду(2 неделя) в 16.00 от ветки **develop** создается ветка **rc/<version>**(например rc/1.1.1). До 16:00 команде необходимо подтвердить все pull requests и слить все свои изменения в ветку **develop**. Если по какой то причине остаются pull requests, то вливанием в develop занимается дежурный
        * Запустив скрипт set_version.command необходимо проставить external_version (например 1.1.1) и internal_version (например 0) в ветке **rc**
        * Так же необходимо проставить версию библиотеки в файле pubspec.yaml, строка version: (например 1.1.1)
        * Далее создается pull request в ветку **develop** Название pull request (например [RC] - 1.1.1 Dev) и в ветку **main** Название pull request (например [RC] - 1.1.1 Main)
        
    #### BUMP
        * Далее необходимо создать ветку **bump-<version>(например bump-1-1-1)** от ветки **develop** и 
        * Запустив скрипт set_version.command необходимо проставить проставить external_version = 0.0.0 и internal_version увеличить на +1. 
        * Так же необходимо проставить версию библиотеки на 0.0.0 в файле pubspec.yaml (строка version: 0.0.0)
        * Далее создается pull request ветки **bump-<version>** в ветку **develop** Название pull request (например [BUMP] - 8)
        
        * После создания rc-ветки не допускается создавать pull requests c задачами текущего спринта. Это необходимо сделать до среды(2 неделя) до 16.00

### Выпуск Hotfix
    * Создаем ветку **hotfix/<version>(например hotfix/1.0.1)** от **master**
    * Делаем все необходимые правки 
    * Поднимаем верисию приложения в ветке **hotfix/<version>**(можно воспользоваться скриптом set_version.command)
    * Создаем pull-request hotfix/<version> в master(после ревью вливаем)
    * Создаем ветку **hotfix/<version>-dev** от ветки **hotfix/<version>**
    * Подливаем ветку **develop** в **hotfix/<version>-dev**
    * Разрешаем конфликты и проверяем правильность версии(та, которая была до **hotfix**)
    * Создаем pull-request **hotfix/<version>** в develop(после ревью вливаем)

### Выпуск Release
    * Небходимо залить pull request ветки **bump-<version>** в ветку **develop**
    * Необходимо актуализировать ветку **rc/<version>**(например rc/1.1.1) с веткой **main** (подлить main в rc) и после сборки залить pull request (например [RC] - 1.1.1 Main) в **main**
    * После того как rc-ветка влита в main, необходимо проверить прохождения сборки, тесты и т.д. 
    * После необходимо проставить тег для ветки main в Sourcetree 
    * Небходимо залить pull request ветки **rc/<version>** в ветку **develop** Предварительно решив конфликты версий в пользу **develop** Нужно что бы internal_version была равна 0, а external_version была равна +1



